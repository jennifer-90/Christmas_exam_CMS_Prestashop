/*!
 * NOTICE OF LICENSE
 * 
 * @author    202 ecommerce <tech@202-ecommerce.com>
 * @author    Mondial Relay
 * @copyright Copyright (c) Mondial Relay
 * @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
 */!function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)t.d(n,a,function(r){return e[r]}.bind(null,a));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=11)}({0:function(e,r,t){"use strict";t.r(r),t.d(r,"isRelayCarrierSelected",(function(){return a})),t.d(r,"getSelectedCarrierId",(function(){return i})),t.d(r,"getCarrierDeliveryMode",(function(){return o})),t.d(r,"widget",(function(){return n}));var n=t(1).a,a=function(){return-1!=MONDIALRELAY_NATIVE_RELAY_CARRIERS_IDS.indexOf(i())},i=function(){var e=$('[name^="delivery_option"]:checked').val();if(void 0!==e){var r=e.split(",");e=r[0]}return e||!1},o=function(e){return MONDIALRELAY_CARRIER_METHODS[e].delivery_mode};
/**
 * NOTICE OF LICENSE
 *
 * @author    202 ecommerce <tech@202-ecommerce.com>
 * @author    Mondial Relay
 * @copyright Copyright (c) Mondial Relay
 * @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
 */$(document).on("click",n.save_button,(function(e){e.preventDefault(),e.stopPropagation(),n.displayErrors(null),$(n.summary_container).empty().show(),n.addLoader(n.summary_container),$(n).trigger("mondialrelay.saveSelectedRelay.before");var r={ajax:!0,action:"saveSelectedRelay",mondialrelay_selectedRelay:MONDIALRELAY_SELECTED_RELAY_IDENTIFIER||0,id_carrier:i()};return $.ajax({type:"POST",url:MONDIALRELAY_AJAX_CHECKOUT_URL,data:r,dataType:"json",success:function(e){if(e){if("ok"!=e.status)return n.savedRelay=null,e.error.length&&n.displayErrors(e.error),n.removeLoader($(n.summary_container)),void $(n).trigger("mondialrelay.saveSelectedRelay.error");n.savedRelay=MONDIALRELAY_SELECTED_RELAY_IDENTIFIER,$(n.summary_container).html(e.content.relaySummary),n.hide(),$(n.save_container).hide(),$(n.widget_container).slideUp(),$(n.save_container).slideUp(),$(n).trigger("mondialrelay.saveSelectedRelay.success")}else this.error(e)},error:function(e){n.savedRelay=null,alert(MONDIALRELAY_SAVE_RELAY_ERROR),$(n).trigger("mondialrelay.saveSelectedRelay.error"),n.removeLoader($(n.summary_container))}}),!1}))},1:function(e,r,t){"use strict";t.d(r,"a",(function(){return n}));
/**
 * NOTICE OF LICENSE
 *
 * @author    202 ecommerce <tech@202-ecommerce.com>
 * @author    Mondial Relay
 * @copyright Copyright (c) Mondial Relay
 * @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
 */
var n={url:"//widget.mondialrelay.com/parcelshop-picker/jquery.plugin.mondialrelay.parcelshoppicker.min.js",loaded:!1,initialized:!1,widget_container:"#mondialrelay_widget",save_container:"#mondialrelay_save-container",error_container:"#mondialrelay_errors",summary_container:"#mondialrelay_summary",save_button:"#mondialrelay_save-relay",change_button:"#mondialrelay_change-relay",selected_relay_input:"#mondialrelay_selected-relay",widget_search_zipcode_input:"#mondialrelay_widget .MRW-Search .Arg2",widget_search_country_input:"#mondialrelay_widget .MRW-Search .Arg1",savedRelay:null,widget_current_params:null};n.load=function(e){!function(e,r){var t=document.createElement("script");t.onload=r,t.src=e,document.head.appendChild(t)}(n.url,(function(){n.loaded=!0,e()}))},n.init=function(e){if("undefined"==typeof MONDIALRELAY_BAD_CONFIGURATION||!MONDIALRELAY_BAD_CONFIGURATION){if(n.savedRelay&&$(n.summary_container).slideDown(),!n.loaded)return n.addLoader(n.widget_container),void n.load((function(){n.init(e)}));var r={Target:n.selected_relay_input,Brand:MONDIALRELAY_ENSEIGNE,Country:MONDIALRELAY_COUNTRY_ISO,PostCode:MONDIALRELAY_POSTCODE,ShowResultsOnMap:1==MONDIALRELAY_DISPLAY_MAP,NbResults:"7",Responsive:!0,OnParcelShopSelected:function(e){$(n.save_container).show(),n.setSelectedRelay(null,e)}};e&&$.extend(r,e),n.widget_current_params=r,$(n.widget_container).MR_ParcelShopPicker(r),n.initialized=!0}},n.show=function(){$(n.widget_container).show()},n.hide=function(){$(n.widget_container).hide()},n.update=function(e){$(n.widget_container).trigger("MR_SetParams",e),n.widget_current_params=$.extend(n.widget_current_params,e),n.doSearch()},n.initOrUpdate=function(e){n.initialized?n.update(e):n.init(e)},n.setSelectedRelay=function(e,r){if(void 0!==e&&e||(e=$(n.selected_relay_input).val()),e==$(n.selected_relay_input).val()&&MONDIALRELAY_SELECTED_RELAY_IDENTIFIER!=e){var t=MONDIALRELAY_SELECTED_RELAY_IDENTIFIER;MONDIALRELAY_SELECTED_RELAY_IDENTIFIER=e,$(n).trigger("mondialrelay.selectedRelay",{oldRelay:t,relayData:r})}},n.resetSelectedRelay=function(){var e=MONDIALRELAY_SELECTED_RELAY_IDENTIFIER;MONDIALRELAY_SELECTED_RELAY_IDENTIFIER=null,$(n).trigger("mondialrelay.selectedRelay",{oldRelay:e,relayData:null})},n.resetSavedRelay=function(e){n.savedRelay=null,void 0!==e&&e||($(n.summary_container).slideUp(),$(n.widget_container).slideDown(),$(n.save_container).slideDown())},n.doSearch=function(e,r){var t=[void 0!==e&&e?e:$(n.widget_search_zipcode_input).val(),void 0!==r&&r?r:$(n.widget_search_country_input).val()];$(n.widget_container).trigger("MR_DoSearch",t)},n.displayErrors=function(e){var r=$(n.error_container);0!=r.length&&(r.stop(!0),r.children().length&&r.fadeOut((function(){$(this).empty()})),void 0!==e&&e&&(r.queue((function(){var r=[];$.each(e,(function(e,t){r.push($("<div/>").addClass("alert alert-danger").text(t))})),$(this).append(r),$(this).dequeue()})),r.fadeIn()))},n.addLoader=function(e){0!=$(e).length&&($(e).children(".mondialrelay_loader").length>0||$("#mondialrelay_loader-template").clone().attr("id",null).show().appendTo(e))},n.removeLoader=function(e){$(e).children(".mondialrelay_loader").remove()},$(document).ready((function(){n.savedRelay=MONDIALRELAY_SELECTED_RELAY_IDENTIFIER,$(n).trigger("mondialrelay.ready")})),$(document).on("click",n.change_button,(function(e){n.show()})),$(document).on("click",".MRW-ShowList",(function(e){e.preventDefault(),e.stopPropagation()})),$(document).on("click",".PR-City",(function(e){e.preventDefault(),e.stopPropagation()}))},11:function(e,r,t){"use strict";t.r(r);var n=t(0),a=!1,i=function(){$.ajax({type:"POST",headers:{"cache-control":"no-cache"},url:orderOpcUrl+"?rand="+(new Date).getTime(),async:!0,cache:!1,dataType:"json",data:"ajax=true&method=getAddressBlockAndCarriersAndPayments&token="+static_token,success:function(e){if(e.hasError){var r="";for(var t in e.errors)"indexOf"!==t&&(r+=$("<div />").html(e.errors[t]).text()+"\n");alert(r)}else void 0!==e.formatedAddressFieldsValuesList&&e.formatedAddressFieldsValuesList&&(formatedAddressFieldsValuesList=e.formatedAddressFieldsValuesList),void 0!==e.order_opc_adress&&e.order_opc_adress&&($(".opc-main-block .addresses").html($($.parseHTML("<div>"+e.order_opc_adress+"</div>")).find(".opc-main-block .addresses").contents()),updateAddressesDisplay(!0),"undefined"!=typeof bindUniform&&bindUniform())},error:function(e,r,t){}})};
/**
 * NOTICE OF LICENSE
 *
 * @author    202 ecommerce <tech@202-ecommerce.com>
 * @author    Mondial Relay
 * @copyright Copyright (c) Mondial Relay
 * @license http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
 */$(n.widget).on("mondialrelay.ready",(function(){n.isRelayCarrierSelected()&&(a=!0,n.widget.savedRelay?($(n.widget.summary_container).show(),n.widget.hide()):($("#HOOK_PAYMENT").empty(),updatePaymentMethodsDisplay(),n.widget.show()),n.widget.init({ColLivMod:n.getCarrierDeliveryMode(n.getSelectedCarrierId())}))})),$(document).on("mondialrelay.contentRefreshed","#mondialrelay_content",(function(e,r){r.fromAjax&&(n.widget.initialized=!1,n.widget.savedRelay=MONDIALRELAY_SELECTED_RELAY_IDENTIFIER,n.isRelayCarrierSelected()?(n.widget.savedRelay?($(n.widget.save_button).click(),n.widget.hide()):n.widget.show(),n.widget.initOrUpdate({ColLivMod:n.getCarrierDeliveryMode(n.getSelectedCarrierId())}),a=!0):(a&&i(),n.widget.hide(),a=!1))})),$(n.widget).on("mondialrelay.saveSelectedRelay.before",(function(){$("#HOOK_PAYMENT").empty()})),$(n.widget).on("mondialrelay.saveSelectedRelay.success",(function(){updatePaymentMethodsDisplay(),i()})),$(n.widget).on("mondialrelay.saveSelectedRelay.error",(function(){updatePaymentMethodsDisplay(),i()}))}});